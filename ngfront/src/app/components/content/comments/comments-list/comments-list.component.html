<!-- comments-list.component.html -->
<div class="w-full bg-white rounded-lg border p-2 my-4 mx-6">
  <h3 class="font-bold">Discussion ({{ comments?.length || 0 }})</h3>
  <!-- Comment Form -->
  <form (ngSubmit)="onSubmitComment()">
    <div class="w-full px-3 my-2">
      <textarea
        class="bg-gray-100 rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 font-medium placeholder-gray-700 focus:outline-none focus:bg-white"
        name="comment"
        [(ngModel)]="newComment"
        placeholder="Type Your Comment"
        required
      ></textarea>
    </div>

    <div class="w-full flex justify-end px-3">
      <input type="submit" class="px-2.5 py-1.5 rounded-md text-white text-sm bg-indigo-500" value="Post Comment" />
    </div>
  </form>

  <!-- Comment List -->
  <div *ngFor="let comment of comments" class="flex flex-col">
    <div class="border rounded-md p-3 ml-3 my-3">
      <div class="flex gap-3 items-center">
        <img
          [src]="comment?.user?.avatarUrl || 'assets/images/default-avatar.png'"
          class="object-cover w-8 h-8 rounded-full border-2 border-emerald-400 shadow-emerald-400"
          alt="User Avatar"
        />

        <h3 class="font-bold">
          {{ comment?.user?.username || 'Anonymous' }}
        </h3>
      </div>

      <p class="text-gray-600 mt-2">{{ comment?.comment || 'No comment available' }}</p>
    </div>
  </div>

  <!-- No comments message -->
  <div *ngIf="!comments || comments.length === 0" class="text-center text-gray-500 dark:text-gray-400">
    No comments yet.
  </div>

</div>
